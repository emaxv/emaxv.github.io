<!DOCTYPE=html>
<html>
  <head>
  <title>Численные методы интегрирования</title> 
  <meta name="author" content="Eryomenko Maksim">
  <meta charset="utf-8">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<script  src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<link rel="import" href="../k2_2.html">
 </head>
 <body style="background-color:#FFF8DC">
    <script>
      var link = document.querySelector('link[rel=import]');
      var content = link.import.querySelector('#tst');
      document.body.appendChild(content.cloneNode(true));
    </script>
    <div>
      <button class= btn-danger id=lp >Метод левых чатсей</button>
      <button class= btn-danger id=pp >Метод правых частей</button>
      <button class= btn-danger id=tr >Метод трапеций</button> 
      <button class= btn-danger id=par >Метод парабол</button>
    </div>
     <script>
    $(function(){
      $("body").append( "<input class='form-control' placeholder= 'Введите нижний предел интегрирования' id=np >" ).append("<input class='form-control' id='vp' placeholder= 'Введите верхний предел интегрирования' >").append( "<input class='form-control' placeholder= 'Введите количество разбиений' id=n >" ).append( "<input class='form-control' placeholder= 'Введите точность' id=e >" ).append( "Шаг: <input class='form-control' id=step >" ).append( "Ответ: <input class='form-control' id=ot >" );
      $("#lp").on("click", function(){
var a= Number(document.querySelector("#np").value);
var b= Number(document.querySelector("#vp").value);
var n= Number(document.querySelector("#n").value);
var E= parseFloat(document.querySelector("#e").value);
var I=0;
var h=(b-a)/n;
var R=1;
             while (R>E){
           		var x=a;	
                        var s=0; 
    while (x<=(b-h)) {
s+=x*x;
x+=h;   
    }            
var I2N=h*s;
R=Math.abs(I-I2N); 
I=I2N;
h=h/2;
             }
        document.querySelector("#step").value=h+h;
        document.querySelector("#ot").value=I2N.toFixed(5); 
           });

      
      $("#pp").on("click", function(){
var a= Number(document.querySelector("#np").value);
var b= Number(document.querySelector("#vp").value);
var n= Number(document.querySelector("#n").value);
var E= parseFloat(document.querySelector("#e").value);
var I=0;
var h=(b-a)/n;
var R=1;
             while (R>E){  
                       var x=a+h;   
                       var s=0;
    while (x<=b) {
s+=x*x;
x+=h;    
    }            
var I2N=h*s;
R=Math.abs(I-I2N);
I=I2N;
h=h/2;
             }
        document.querySelector("#step").value=h+h;
        document.querySelector("#ot").value=I2N.toFixed(5);
           });
      
      $("#tr").on("click", function(){
var a= Number(document.querySelector("#np").value);
var b= Number(document.querySelector("#vp").value);
var n= Number(document.querySelector("#n").value);
var E= parseFloat(document.querySelector("#e").value);	
var I=0; 
var h=(b-a)/n;
var R=1;
var y0=a*a;
var yn=b*b;
             while (R>E){   
                          var s=0;
                          var x=a;  
    while (x<=(b-h)) {
s+=x*x; 
x+=h;   
    }   	
var I2N=h*(((y0+yn)/2)+s);
R=Math.abs(I-I2N);
I=I2N;
h=h/2;
             }
        document.querySelector("#step").value=h+h;
        document.querySelector("#ot").value=I2N.toFixed(5);
           });

      
           $("#par").on("click", function(){
var a= Number(document.querySelector("#np").value);
var b= Number(document.querySelector("#vp").value);
var E= parseFloat(document.querySelector("#e").value);
var n= Number(document.querySelector("#n").value);
var I=0;
var h=(b-a)/n; 
var R=1;
var y0=a*a; 
var yn=b*b;
             while (R>E){    
                       var x1=a+h;
                       var s1=0;
                       var s2=0;  
    while (x1<=(b-h)) {
s1+=x1*x1; 
x1+=2*h;   
    }
	var x2=a+2*h;
    while (x2<=(b-2*h)) {
s2+=x2*x2; 
x2+=2*h;   
    }   	
var I2N=(h/3)*(y0+4*s1+2*s2+yn);
R=Math.abs(I-I2N);
I=I2N;
h=h/2;
             }
        document.querySelector("#step").value=h+h;
        document.querySelector("#ot").value=I2N.toFixed(5);
           });
    
    });
       </script>
</body>
</html>